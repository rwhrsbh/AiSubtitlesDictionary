<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title data-i18n="flashcards_title">Flashcards</title>
    <link rel="stylesheet" href="flashcards.css">
</head>

<body>
    <div class="container">
        <div class="header">
            <h1 data-i18n="flashcards_title">Flashcards</h1>
            <div class="progress">
                <span id="current-card">0</span> / <span id="total-cards">0</span>
            </div>
        </div>

        <!-- Loading Screen -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-spinner"></div>
            <p data-i18n="flashcards_loading">Loading flashcards...</p>
            <p class="loading-subtext" data-i18n="def_cards_wait">This may take a moment</p>
        </div>

        <!-- Progress Indicator Sidebar -->
        <div class="progress-sidebar" id="progress-sidebar">
            <!-- Progress boxes will be injected here -->
        </div>

        <!-- Main Card Area -->
        <div id="card-container" class="card-container hidden">
            <div class="card">
                <div class="card-content">
                    <!-- Category Badge -->
                    <div class="category-badge" id="card-category" style="display:none;"></div>

                    <!-- Language Badge -->
                    <div class="language-badge" id="card-lang">EN</div>

                    <!-- Translation (Question) -->
                    <div class="card-header">
                        <h2 id="card-translation" class="card-word">Translation</h2>
                    </div>

                    <!-- Examples with blanks -->
                    <div id="examples-container" class="examples-list">
                        <!-- Examples will be injected here -->
                    </div>

                    <!-- Interaction Area -->
                    <div class="interaction-area">
                        <!-- Mode Controls -->
                        <div class="mode-controls">
                            <button class="mode-btn" data-mode="options" data-i18n="mode_options">Options</button>
                            <button class="mode-btn active" data-mode="manual" data-i18n="mode_manual">Manual</button>
                        </div>

                        <!-- Manual Input Area -->
                        <div class="input-area" id="input-area">
                            <input type="text" id="answer-input" class="manual-input" autocomplete="off"
                                data-i18n-placeholder="input_placeholder" placeholder="Type answer...">
                            <button id="submit-btn" class="submit-btn" data-i18n="btn_check">Check</button>
                        </div>

                        <!-- Options Area -->
                        <div class="options hidden" id="options-area">
                            <!-- Options will be injected here -->
                        </div>
                    </div>

                    <!-- Feedback Area (shown after answer) -->
                    <div id="feedback-area" class="feedback-area hidden">
                        <!-- Transcription -->
                        <div id="card-transcription" class="card-transcription"></div>

                        <!-- Flippable Explanation -->
                        <div id="explanation-container" class="explanation-container hidden">
                            <div class="explanation-card" id="explanation-card">
                                <div class="explanation-inner">
                                    <!-- Front: Interface Language -->
                                    <div class="explanation-face explanation-front">
                                        <div class="explanation-lang-badge" id="explanation-front-lang">RU</div>
                                        <div class="explanation-title" data-i18n="explanation_title">üí° Explanation:</div>
                                        <div id="explanation-text-front" class="explanation-text"></div>
                                        <div class="flip-hint-explanation" data-i18n="click_to_flip">Click to flip üîÑ</div>
                                    </div>
                                    <!-- Back: Word Language -->
                                    <div class="explanation-face explanation-back">
                                        <div class="explanation-lang-badge" id="explanation-back-lang">EN</div>
                                        <div class="explanation-title">üí° Explanation:</div>
                                        <div id="explanation-text-back" class="explanation-text"></div>
                                        <div class="flip-hint-explanation" data-i18n="click_to_flip">Click to flip üîÑ</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls">
                <button id="prev-btn" class="control-btn secondary" data-i18n="def_cards_prev">‚Üê Previous</button>
                <button id="next-btn" class="control-btn primary" data-i18n="def_cards_next">Next ‚Üí</button>
            </div>
        </div>

        <!-- Complete Screen -->
        <div id="complete-screen" class="complete-screen hidden">
            <div class="complete-icon">üéâ</div>
            <h2 data-i18n="flashcards_complete">Great Job!</h2>
            <p data-i18n="flashcards_complete_msg">You have completed all flashcards!</p>
            <div style="display: flex; gap: 16px; justify-content: center; margin-top: 32px;">
                <button id="restart-btn" class="control-btn secondary" data-i18n="flashcards_start_over">Start Over</button>
                <button id="close-btn" class="control-btn primary" data-i18n="flashcards_close">Close</button>
            </div>
        </div>

        <!-- Error Screen -->
        <div id="error-screen" class="error-screen hidden">
            <div class="error-icon">‚ö†Ô∏è</div>
            <h2 data-i18n="error_title">Error</h2>
            <p id="error-message"></p>
            <button id="retry-btn" class="control-btn primary" data-i18n="retry">Try Again</button>
        </div>
    </div>

    <script src="flashcards.js" type="module"></script>
</body>

</html>
